<div id="particles-js">
  
  <div class="header">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700&display=swap" rel="stylesheet">

      <h1>
        <span class="site-title">{{site.user_title}} {{site.username}}</span>
        <span class="site-description">{{site.user_job_title}}</span>
      </h1>
      <div class="header-icons">
        <a aria-label="E-Mail" href="mailto:jonalbo311@gmail.com"><i class="icon fas fa-envelope"></i></a>
        <a rel="me" aria-label="LinkedIn" target="_blank" href="https://www.linkedin.com/in/jonalbo"><i class="icon fab fa-linkedin" aria-hidden="true"></i></a>
        </div>
      <div class="header-links">
        <a class="link" href="/#about">About</a>
        ·
        <a class="link" href="/#projects">Projects</a>
        ·
        <a class="link" href="/JonAlbo_Resume.pdf">Resume</a>
        ·
        <a class="link" href="https://patents.google.com/?inventor=Jon+ALBO">Patents</a>
        ·
        <a class="link" href="https://scholar.google.com/citations?user=0ug4j68AAAAJ">Publications</a>
        ·
        <a class="link" href="/photography">Photography</a>
        ·
        <a class="link" href="/news">Featured In</a>
      </div>
  </div>
  <a class="down" data-scroll><i class="icon fa fa-chevron-down" aria-hidden="true"></i></a>
</div>


<script>
window.addEventListener("load", function() {
  // --- 1. Smooth scroll if page loads with a hash ---
  if (window.location.hash) {
    const targetId = window.location.hash.substring(1);
    const target = document.getElementById(targetId);
    if (target) {
      setTimeout(() => {
        target.scrollIntoView({ behavior: "smooth" });
      }, 50);
    }
  }

  // --- 2. Smooth scroll for header links ---
  const links = document.querySelectorAll('.header-links a[href*="#"]');
  links.forEach(link => {
    link.addEventListener("click", function(e) {
      const href = this.getAttribute("href");

      // case 1: /#about or /#projects → on homepage
      if (href.startsWith("/#")) {
        if (window.location.pathname === "/" || window.location.pathname === "/index.html") {
          e.preventDefault();
          const targetId = href.substring(2); // remove "/#"
          const target = document.getElementById(targetId);
          if (target) {
            target.scrollIntoView({ behavior: "smooth" });
            history.pushState(null, "", "#" + targetId);
          }
        }
        // else let it navigate normally (to home)
      }

      // case 2: #about → same page hash
      else if (href.startsWith("#")) {
        const targetId = href.substring(1);
        const target = document.getElementById(targetId);
        if (target) {
          e.preventDefault();
          target.scrollIntoView({ behavior: "smooth" });
          history.pushState(null, "", "#" + targetId);
        }
      }
    });
  });

  // --- 3. Smooth scroll for down chevron ---
  const downChevron = document.querySelector(".down");
  if (downChevron) {
    downChevron.addEventListener("click", function(e) {
      e.preventDefault();
      const firstSection = document.querySelector("section");
      if (firstSection) firstSection.scrollIntoView({ behavior: "smooth" });
    });
  }
});
</script>
